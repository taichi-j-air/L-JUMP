@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    --primary: 134 100% 39%;
    --primary-foreground: 0 0% 100%;

    --secondary: 0 0% 96.1%;
    --secondary-foreground: 134 100% 39%;

    --muted: 0 0% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --accent: 134 100% 39%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --success: 134 100% 39%;
    --success-foreground: 0 0% 100%;

    --border: 214.3 31.8% 80%; /* 枠線を少し濃く */
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;

    --radius: 0.5rem;

    --sidebar-background: 220 14% 15%;

    --sidebar-foreground: 210 40% 98%;

    --sidebar-primary: 224.3 76.3% 48%;

    --sidebar-primary-foreground: 0 0% 100%;

    --sidebar-accent: 220 9% 23%;

    --sidebar-accent-foreground: 210 40% 98%;

    --sidebar-border: 220 8% 25%;

    --sidebar-ring: 217.2 91.2% 59.8%;
    --sidebar-hover-background: 0 0% 96.1%; /* デフォルト値 */
    --sidebar-hover-foreground: 215.4 16.3% 46.9%; /* デフォルト値 */
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --success: 134 100% 39%;
    --success-foreground: 0 0% 100%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
    --sidebar-hover-background: 217.2 32.6% 17.5%; /* デフォルト値 */
    --sidebar-hover-foreground: 215 20.2% 65.1%; /* デフォルト値 */
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply text-foreground;
    background-color: #e0e6ed; /* 少し青みのあるグレー */
  }
  
  /* Japanese text input optimization */
  .ime-enabled {
    ime-mode: active;
    font-feature-settings: "palt" 1;
    text-rendering: optimizeLegibility;
  }
  
  input[type="text"],
  textarea {
    ime-mode: auto;
    font-feature-settings: "palt" 1;
  }
  
  /* Ensure proper Japanese font rendering */
  * {
    font-variant-numeric: normal;
    text-rendering: optimizeLegibility;
  }
}

@layer components {
  /* Custom Heading Styles */
  .heading-style-1 {
    padding: .5em .7em;
    border-left: 5px solid var(--heading-color-1, #2589d0);
    background-color: var(--heading-color-2, #f2f2f2);
    color: var(--heading-color-3, #333333);
    margin: 1.5em 0;
  }

  .heading-style-2 {
    position: relative;
    border-top: solid 2px var(--heading-color-1, #80c8d1);
    border-bottom: solid 2px var(--heading-color-1, #80c8d1);
    background: var(--heading-color-2, #f4f4f4);
    line-height: 1.4;
    padding: 0.4em 0.5em;
    margin: 1.5em 0;
  }

  .heading-style-2::after {
    position: absolute;
    content: 'POINT';
    background: var(--heading-color-1, #80c8d1);
    color: var(--heading-color-3, #fff);
    left: 0px;
    bottom: 100%;
    border-radius: 5px 5px 0 0;
    padding: 5px 7px 3px;
    font-size: 0.7em;
    line-height: 1;
    letter-spacing: 0.05em;
  }

  .heading-style-3 {
    position: relative;
    padding-left: 35px;
    margin: 1.5em 0;
  }
  

  .heading-style-4 {
    position: relative;
    padding: 0.25em 0.5em 0.25em 1.2em;
    color: var(--heading-color-1, #494949);
    background: transparent;
    margin: 1.5em 0;
  }
  .heading-style-4::before {
    content: '';
    position: absolute;
    left: 0.25em;
    top: 0;
    bottom: 0;
    width: 5px;
    background-color: var(--heading-color-2, #7db4e6);
    border-radius: 9999px;
  }

  /* Note Box Style */
  .note-box {
      display: flex;
      grid-gap: 0 .7em;
      margin: 1.5em auto;
      padding: 1em;
      border-radius: 5px;
      background-color: #ffebee;
      color: #333333;
  }

  .note-box::before {
      width: 24px;
      height: 24px;
      content: '';
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M12.8659 3.00017L22.3922 19.5002C22.6684 19.9785 22.5045 20.5901 22.0262 20.8662C21.8742 20.954 21.7017 21.0002 21.5262 21.0002H2.47363C1.92135 21.0002 1.47363 20.5525 1.47363 20.0002C1.47363 19.8246 1.51984 19.6522 1.60761 19.5002L11.1339 3.00017C11.41 2.52187 12.0216 2.358 12.4999 2.63414C12.6519 2.72191 12.7782 2.84815 12.8659 3.00017ZM10.9999 16.0002V18.0002H12.9999V16.0002H10.9999ZM10.9999 9.00017V14.0002H12.9999V9.00017H10.9999Z' fill='%23f06060'%3E%3C/path%3E%3C/svg%3E");
  }

  .note-box p, .note-box textarea {
      margin: 0;
      padding: 0 0 0 .7em;
      border-left: 1px solid #f06060;
      flex: 1;
  }
}

/* Hide spin buttons for number inputs */
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type="number"] {
  -moz-appearance: textfield; /* Firefox */
}
